---
import Layout from '../layouts/Layout.astro';
import { Image } from 'astro:assets';
import sampleImage from '../assets/sample-image.svg';
---

<Layout title="Internal Image Optimization">
	<main>
		<h1>üñºÔ∏è Internal Image Optimization</h1>
		<p>This page demonstrates Astro's built-in image optimization for local images using the <code>Image</code> component.</p>
		
		<div class="image-demo">
			<h2>üì∏ Optimized Local Image</h2>
			<div class="image-container">
				<Image 
					src={sampleImage}
					alt="Sample image for optimization demo"
					width={400}
					height={300}
					quality={80}
					format="webp"
					class="optimized-image"
				/>
			</div>
			<p class="image-caption">This image is automatically optimized by Astro</p>
		</div>
		
		<div class="comparison-section">
			<h2>‚öñÔ∏è Comparison: Regular vs Optimized</h2>
			<div class="comparison-grid">
				<div class="comparison-item">
					<h3>Regular &lt;img&gt; tag</h3>
					<img src="/sample-image.svg" alt="Regular image" width="300" height="225" />
					<ul>
						<li>No optimization</li>
						<li>Original file size</li>
						<li>No format conversion</li>
						<li>No responsive sizing</li>
					</ul>
				</div>
				<div class="comparison-item">
					<h3>Astro &lt;Image&gt; component</h3>
					<Image 
						src={sampleImage}
						alt="Optimized image"
						width={300}
						height={225}
						quality={80}
						format="webp"
					/>
					<ul>
						<li>Automatic optimization</li>
						<li>Compressed file size</li>
						<li>Modern formats (WebP, AVIF)</li>
						<li>Responsive sizing</li>
					</ul>
				</div>
			</div>
		</div>
		
		<div class="features-section">
			<h2>‚ú® Image Optimization Features</h2>
			<div class="features-grid">
				<div class="feature-card">
					<h3>üóúÔ∏è Compression</h3>
					<p>Automatic compression with quality control</p>
				</div>
				<div class="feature-card">
					<h3>üîÑ Format Conversion</h3>
					<p>Convert to modern formats like WebP and AVIF</p>
				</div>
				<div class="feature-card">
					<h3>üì± Responsive</h3>
					<p>Generate multiple sizes for different devices</p>
				</div>
				<div class="feature-card">
					<h3>‚ö° Lazy Loading</h3>
					<p>Built-in lazy loading for better performance</p>
				</div>
			</div>
		</div>
		
		
		<div class="info-box">
			<h2>‚ÑπÔ∏è How It Works</h2>
			<ul>
				<li><strong>Build-time optimization:</strong> Images are processed during the build</li>
				<li><strong>Multiple formats:</strong> Generates WebP, AVIF, and fallback formats</li>
				<li><strong>Size variants:</strong> Creates different sizes for responsive design</li>
				<li><strong>Automatic srcset:</strong> Generates srcset attributes automatically</li>
				<li><strong>Type safety:</strong> TypeScript support for image imports</li>
			</ul>
		</div>
		
		<a href="/" class="back-link">‚Üê Back to Home</a>
	</main>
</Layout>

<style>
	main {
		margin: auto;
		padding: 1rem;
		width: 800px;
		max-width: calc(100% - 2rem);
		color: white;
		font-size: 18px;
		line-height: 1.6;
	}
	
	.image-demo {
		background: rgba(0, 255, 0, 0.1);
		border: 1px solid rgba(0, 255, 0, 0.3);
		border-radius: 8px;
		padding: 2rem;
		margin: 2rem 0;
		text-align: center;
	}
	
	.image-container {
		margin: 1rem 0;
	}
	
	.optimized-image {
		border-radius: 8px;
		box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
	}
	
	.image-caption {
		font-style: italic;
		color: #ccc;
		margin-top: 1rem;
	}
	
	.comparison-section {
		background: rgba(255, 165, 0, 0.1);
		border: 1px solid rgba(255, 165, 0, 0.3);
		border-radius: 8px;
		padding: 2rem;
		margin: 2rem 0;
	}
	
	.comparison-grid {
		display: grid;
		grid-template-columns: 1fr 1fr;
		gap: 2rem;
		margin-top: 1rem;
	}
	
	.comparison-item {
		text-align: center;
		background: rgba(255, 255, 255, 0.05);
		padding: 1rem;
		border-radius: 6px;
	}
	
	.comparison-item img {
		border-radius: 6px;
		margin: 1rem 0;
	}
	
	.comparison-item ul {
		text-align: left;
		margin-top: 1rem;
	}
	
	.features-section {
		background: rgba(79, 57, 250, 0.1);
		border: 1px solid rgba(79, 57, 250, 0.3);
		border-radius: 8px;
		padding: 2rem;
		margin: 2rem 0;
	}
	
	.features-grid {
		display: grid;
		grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
		gap: 1rem;
		margin-top: 1rem;
	}
	
	.feature-card {
		background: rgba(255, 255, 255, 0.05);
		padding: 1.5rem;
		border-radius: 6px;
		text-align: center;
	}
	
	.code-example {
		background: rgba(255, 255, 255, 0.05);
		border: 1px solid rgba(255, 255, 255, 0.2);
		border-radius: 8px;
		padding: 1.5rem;
		margin: 2rem 0;
	}
	
	.code-example pre {
		background: rgba(0, 0, 0, 0.3);
		padding: 1rem;
		border-radius: 4px;
		overflow-x: auto;
	}
	
	.code-example code {
		font-family: 'Courier New', monospace;
		font-size: 14px;
	}
	
	.info-box {
		background: rgba(255, 255, 255, 0.05);
		border: 1px solid rgba(255, 255, 255, 0.2);
		border-radius: 8px;
		padding: 1.5rem;
		margin: 2rem 0;
	}
	
	.back-link {
		color: #4f39fa;
		text-decoration: none;
		font-weight: bold;
	}
	
	.back-link:hover {
		text-decoration: underline;
	}
	
	code {
		background: rgba(255, 255, 255, 0.1);
		padding: 0.2rem 0.4rem;
		border-radius: 4px;
		font-family: monospace;
	}
</style>
